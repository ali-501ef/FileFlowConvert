<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JPG to PNG Converter - FileFlow | Convert Images with Transparency</title>
    <meta name="description" content="Convert JPG images to PNG format with transparency support. High-quality lossless conversion for web graphics and logos.">
    <link rel="canonical" href="https://fileflow.com/jpg-to-png">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="JPG to PNG Converter - FileFlow">
    <meta property="og:description" content="Convert JPG images to PNG format with transparency support. High-quality lossless conversion.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://fileflow.com/jpg-to-png">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/styles.css">
    
    <!-- Navigation Script -->
    <script src="/js/navigation.js" defer></script>
</head>
<body>
    <!-- Top AdSense Banner -->
    <div class="ad-placeholder ad-banner-top">
        <span class="ad-text">Advertisement Banner (728x90)</span>
    </div>

    <!-- Sticky Navigation Bar -->
    <nav class="sticky-nav">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="/" data-testid="nav-brand">FileFlow</a>
            </div>
            
            <div class="nav-menu">
                <!-- Image Tools -->
                <div class="nav-dropdown">
                    <button class="nav-dropdown-trigger" data-testid="nav-image-trigger">
                        Image Tools
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                        </svg>
                    </button>
                    <div class="nav-dropdown-content">
                        <a href="/convert-to-jpeg.html" class="nav-dropdown-item" data-testid="nav-convert-jpeg">Convert to JPEG</a>
                        <a href="/heic-to-jpg.html" class="nav-dropdown-item" data-testid="nav-heic-jpg">HEIC to JPG</a>
                        <a href="/jpg-to-png.html" class="nav-dropdown-item" data-testid="nav-jpg-png">JPG to PNG</a>
                    </div>
                </div>

                <!-- PDF Tools -->
                <div class="nav-dropdown">
                    <button class="nav-dropdown-trigger" data-testid="nav-pdf-trigger">
                        PDF Tools
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                        </svg>
                    </button>
                    <div class="nav-dropdown-content">
                        <a href="/pdf-merge.html" class="nav-dropdown-item" data-testid="nav-pdf-merge">PDF Merge</a>
                        <a href="/pdf-split.html" class="nav-dropdown-item" data-testid="nav-pdf-split">PDF Split</a>
                        <a href="/pdf-compress.html" class="nav-dropdown-item" data-testid="nav-pdf-compress">PDF Compress</a>
                        <a href="/pdf-rotate.html" class="nav-dropdown-item" data-testid="nav-pdf-rotate">PDF Rotate</a>
                        <a href="/pdf-watermark.html" class="nav-dropdown-item" data-testid="nav-pdf-watermark">PDF Watermark</a>
                        <a href="/pdf-to-word.html" class="nav-dropdown-item" data-testid="nav-pdf-to-word">PDF to Word</a>
                    </div>
                </div>

                <!-- Audio/Video Tools -->
                <div class="nav-dropdown">
                    <button class="nav-dropdown-trigger" data-testid="nav-media-trigger">
                        Audio/Video Tools
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                        </svg>
                    </button>
                    <div class="nav-dropdown-content">
                        <a href="/mp4-to-mp3.html" class="nav-dropdown-item" data-testid="nav-mp4-mp3">MP4 to MP3</a>
                        <a href="/audio-converter.html" class="nav-dropdown-item" data-testid="nav-audio-convert">Audio Converter</a>
                        <a href="/video-compress.html" class="nav-dropdown-item" data-testid="nav-video-compress">Video Compress</a>
                        <a href="/gif-maker.html" class="nav-dropdown-item" data-testid="nav-gif-maker">GIF Maker</a>
                        <a href="/video-trim.html" class="nav-dropdown-item" data-testid="nav-video-trim">Video Trim</a>
                        <a href="/video-merger.html" class="nav-dropdown-item" data-testid="nav-video-merge">Video Merger</a>
                    </div>
                </div>
            </div>
            
            <button class="mobile-nav-toggle" data-testid="mobile-nav-toggle">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                </svg>
            </button>
        </div>
    </nav>

    <div class="layout-container">
        <!-- Desktop Sidebar Ad Left -->
        <div class="sidebar-ad desktop-only">
            <div class="ad-placeholder ad-sidebar">
                <span class="ad-text">Sidebar<br>Advertisement<br>(160x600)</span>
            </div>
        </div>

        <main class="main">
            <div class="hero-section">
                <div class="hero-content">
                    <div class="hero-badge">
                        <div class="tool-icon bg-green">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                <circle cx="9" cy="9" r="2"/>
                                <path d="M21 15l-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/>
                            </svg>
                        </div>
                        <span>Image Tools</span>
                    </div>
                    <h1 class="hero-title">JPG to PNG</h1>
                    <p class="hero-description">Convert JPG images to PNG format for lossless quality</p>
                    <div class="hero-features">
                        <span class="feature-tag">✓ Lossless quality</span>
                        <span class="feature-tag">✓ Transparency support</span>
                        <span class="feature-tag">✓ Batch conversion</span>
                    </div>
                </div>
            </div>

            <div class="converter-container">
                <div class="upload-area" id="uploadArea" onclick="document.getElementById('fileInput').click()">
                    <div class="upload-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                            <circle cx="9" cy="9" r="2"/>
                            <path d="M21 15l-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/>
                        </svg>
                    </div>
                    <h3>Drop your JPG files here</h3>
                    <p>or click anywhere to browse files</p>
                    <p class="supported-formats">Supports JPG, JPEG files only</p>
                    <input type="file" id="fileInput" multiple accept=".jpg,.jpeg" hidden>
                </div>

                <div class="advanced-options" id="advancedOptions">
                    <div class="options-header" id="optionsToggle">
                        <div class="options-title">
                            <svg class="options-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z"/>
                                <path d="M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"/>
                                <path d="M12 2v2"/>
                                <path d="M12 20v2"/>
                                <path d="m4.93 4.93 1.41 1.41"/>
                                <path d="m17.66 17.66 1.41 1.41"/>
                                <path d="M2 12h2"/>
                                <path d="M20 12h2"/>
                                <path d="m6.34 17.66-1.41 1.41"/>
                                <path d="m19.07 4.93-1.41 1.41"/>
                            </svg>
                            <span>Advanced Options</span>
                        </div>
                        <svg class="chevron" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="m6 9 6 6 6-6"/>
                        </svg>
                    </div>
                    <div class="options-content" id="optionsContent" style="display: none;">
                        <div class="option-group">
                            <label for="compressionLevel">Compression Level</label>
                            <select id="compressionLevel">
                                <option value="0" selected>No compression (Largest)</option>
                                <option value="6">Default (Balanced)</option>
                                <option value="9">Maximum (Smallest)</option>
                            </select>
                        </div>
                        <div class="option-group">
                            <label for="transparencyHandling">Background</label>
                            <select id="transparencyHandling">
                                <option value="preserve" selected>Preserve as-is</option>
                                <option value="white">White background</option>
                                <option value="transparent">Transparent</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="file-preview" id="filePreview" style="display: none;">
                    <div class="preview-header">
                        <h3 id="fileName"></h3>
                        <span id="fileSize"></span>
                    </div>
                    <div class="file-list" id="fileList"></div>
                </div>

                <button class="convert-btn" id="convertBtn" disabled>
                    <span class="btn-text">Convert to PNG</span>
                    <div class="btn-loader" style="display: none;"></div>
                </button>

                <!-- Tool Information Section -->
                <div class="tool-info-section">
                    <div class="info-grid">
                        <div class="info-card">
                            <div class="info-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                </svg>
                            </div>
                            <h3>Lossless Quality</h3>
                            <p>PNG format preserves image quality without compression artifacts. Ideal for graphics, screenshots, and images requiring crisp details.</p>
                        </div>
                        <div class="info-card">
                            <div class="info-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                    <path d="M12 8v8"/>
                                    <path d="M8 12h8"/>
                                </svg>
                            </div>
                            <h3>Transparency Support</h3>
                            <p>PNG images support transparent backgrounds, perfect for logos, icons, and graphics that need to blend seamlessly with different backgrounds.</p>
                        </div>
                        <div class="info-card">
                            <div class="info-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="3" y="3" width="7" height="7"/>
                                    <rect x="14" y="3" width="7" height="7"/>
                                    <rect x="14" y="14" width="7" height="7"/>
                                    <rect x="3" y="14" width="7" height="7"/>
                                </svg>
                            </div>
                            <h3>Web Ready</h3>
                            <p>PNG images are perfect for web use, offering superior quality for graphics, icons, and images with text or sharp edges.</p>
                        </div>
                    </div>
                    <div class="tool-benefits">
                        <h3>Why Convert JPG to PNG?</h3>
                        <p>Converting JPG to PNG is essential when you need transparency, lossless quality, or better web compatibility. PNG format excels with graphics, logos, and images with text, providing crisp edges and supporting transparent backgrounds that JPG cannot offer. This conversion is crucial for professional design work and web development.</p>
                    </div>
                </div>

                <div class="progress-container" id="progressContainer" style="display: none;">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-text" id="progressText">0%</div>
                </div>

                <div class="results" id="results" style="display: none;">
                    <h3>Conversion Complete</h3>
                    <div class="result-actions">
                        <button class="download-btn" id="downloadBtn">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7,10 12,15 17,10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                            Download PNG Files
                        </button>
                    </div>
                </div>
            </div>
        </main>
                                    <label class="advanced-label">Resize Image</label>
                                    <div class="resize-inputs">
                                        <input type="number" id="width" class="advanced-input" placeholder="Width" min="1" max="10000" data-testid="input-width">
                                        <span class="resize-separator">×</span>
                                        <input type="number" id="height" class="advanced-input" placeholder="Height" min="1" max="10000" data-testid="input-height">
                                    </div>
                                    <p class="advanced-hint">Leave empty to maintain original size</p>
                                </div>
                                
                                <div class="advanced-option">
                                    <label class="advanced-label" for="compression">Compression Level</label>
                                    <select id="compression" class="advanced-select" data-testid="select-compression">
                                        <option value="none">No compression (Best quality)</option>
                                        <option value="low" selected>Low compression</option>
                                        <option value="medium">Medium compression</option>
                                        <option value="high">High compression (Smallest file)</option>
                                    </select>
                                </div>
                                
                                <div class="advanced-option">
                                    <label class="advanced-label">Metadata</label>
                                    <div class="checkbox-wrapper">
                                        <input type="checkbox" id="preserve-metadata" class="advanced-checkbox" data-testid="checkbox-metadata">
                                        <label for="preserve-metadata" class="checkbox-label">Preserve metadata (EXIF data)</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Progress Section -->
                    <div id="progress-section" class="progress-section hidden">
                        <div class="progress-header">
                            <span class="progress-label">Converting files...</span>
                            <span id="progress-text" class="progress-text" data-testid="text-progress">0%</span>
                        </div>
                        <div class="progress-bar-container">
                            <div id="progress-bar" class="progress-bar" data-testid="progress-bar" style="width: 0%"></div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div id="action-buttons" class="action-buttons hidden">
                        <button id="convert-btn" class="btn btn-primary" data-testid="button-convert">
                            Convert Files
                        </button>
                        <button id="clear-btn" class="btn btn-secondary" data-testid="button-clear">
                            Clear All
                        </button>
                    </div>

                    <!-- Tool Information Section -->
                    <div class="tool-info-section">
                        <div class="info-grid">
                            <div class="info-card">
                                <div class="info-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                                        <polyline points="7.5,4.21 12,6.81 16.5,4.21"/>
                                        <polyline points="7.5,19.79 7.5,14.6 3,12"/>
                                        <polyline points="21,12 16.5,14.6 16.5,19.79"/>
                                    </svg>
                                </div>
                                <h3>Transparency Support</h3>
                                <p>Convert JPG to PNG to add transparent backgrounds. Perfect for logos, graphics, and images that need transparency for overlays.</p>
                            </div>
                            <div class="info-card">
                                <div class="info-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                    </svg>
                                </div>
                                <h3>Lossless Quality</h3>
                                <p>PNG format preserves image quality without compression artifacts. Ideal for graphics, screenshots, and images requiring crisp details.</p>
                            </div>
                            <div class="info-card">
                                <div class="info-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                        <path d="M12 8v8"/>
                                        <path d="M8 12h8"/>
                                    </svg>
                                </div>
                                <h3>Web Ready</h3>
                                <p>PNG images are perfect for web use, offering superior quality for graphics, icons, and images with text or sharp edges.</p>
                            </div>
                        </div>
                        <div class="tool-benefits">
                            <h3>Why Convert JPG to PNG?</h3>
                            <p>Converting JPG to PNG is essential when you need transparency, lossless quality, or better web compatibility. PNG format excels with graphics, logos, and images with text, providing crisp edges and supporting transparent backgrounds that JPG cannot offer. This conversion is crucial for professional design work and web development.</p>
                        </div>
                    </div>

                    <!-- Download Section -->
                    <div id="download-section" class="download-section hidden">
                        <div class="success-message">
                            <div class="success-header">
                                <svg class="success-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <h3 class="success-title">Conversion Complete!</h3>
                            </div>
                            <p class="success-text">Your JPG files have been successfully converted to PNG.</p>
                            <div id="download-links" class="download-links" data-testid="download-links">
                                <!-- Download links will be inserted here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tool Information -->
                <div class="tool-info-section">
                    <h3 class="info-title">How it works</h3>
                    <div class="info-content">
                        <ul class="info-list">
                            <li>Converts JPG images to PNG format</li>
                            <li>Supports transparency for backgrounds</li>
                            <li>Lossless compression maintains image quality</li>
                            <li>Perfect for web graphics and logos</li>
                        </ul>
                    </div>
                </div>
            </div>
        </main>

        <!-- Desktop Sidebar Ad Right -->
        <div class="sidebar-ad desktop-only">
            <div class="ad-placeholder ad-sidebar">
                <span class="ad-text">Sidebar<br>Advertisement<br>(160x600)</span>
            </div>
        </div>
    </div>

    <!-- Bottom AdSense Banner -->
    <div class="ad-placeholder ad-banner-bottom">
        <span class="ad-text">Advertisement Banner (728x90)</span>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <!-- Branding Section -->
                <div class="footer-section">
                    <h3 class="footer-title">FileFlow</h3>
                    <p class="footer-description">Professional file conversion tools for everyone.</p>
                </div>
                
                <!-- PDF Tools -->
                <div class="footer-section">
                    <h4 class="footer-subtitle">PDF Tools</h4>
                    <ul class="footer-links">
                        <li><a href="/pdf-merge.html" class="footer-link" data-testid="footer-pdf-merge">PDF Merge</a></li>
                        <li><a href="/pdf-split.html" class="footer-link" data-testid="footer-pdf-split">PDF Split</a></li>
                        <li><a href="/pdf-compress.html" class="footer-link" data-testid="footer-pdf-compress">PDF Compress</a></li>
                        <li><a href="/pdf-to-word.html" class="footer-link" data-testid="footer-pdf-to-word">PDF to Word</a></li>
                        <li><a href="/pdf-rotate.html" class="footer-link" data-testid="footer-pdf-rotate">PDF Rotate</a></li>
                        <li><a href="/pdf-watermark.html" class="footer-link" data-testid="footer-pdf-watermark">PDF Watermark</a></li>
                    </ul>
                </div>
                
                <!-- Image Tools -->
                <div class="footer-section">
                    <h4 class="footer-subtitle">Image Tools</h4>
                    <ul class="footer-links">
                        <li><a href="/convert-to-jpeg.html" class="footer-link" data-testid="footer-convert-jpeg">Convert to JPEG</a></li>
                        <li><a href="/heic-to-jpg.html" class="footer-link" data-testid="footer-heic-jpg">HEIC to JPG</a></li>
                        <li><a href="/jpg-to-png.html" class="footer-link" data-testid="footer-jpg-png">JPG to PNG</a></li>
                    </ul>
                </div>
                
                <!-- Audio/Video Tools -->
                <div class="footer-section">
                    <h4 class="footer-subtitle">Audio/Video Tools</h4>
                    <ul class="footer-links">
                        <li><a href="/mp4-to-mp3.html" class="footer-link" data-testid="footer-mp4-mp3">MP4 to MP3</a></li>
                        <li><a href="/video-compress.html" class="footer-link" data-testid="footer-video-compress">Video Compress</a></li>
                        <li><a href="/audio-converter.html" class="footer-link" data-testid="footer-audio-converter">Audio Converter</a></li>
                        <li><a href="/video-trim.html" class="footer-link" data-testid="footer-video-trim">Video Trim</a></li>
                        <li><a href="/gif-maker.html" class="footer-link" data-testid="footer-gif-maker">GIF Maker</a></li>
                        <li><a href="/video-merger.html" class="footer-link" data-testid="footer-video-merger">Video Merger</a></li>
                    </ul>
                </div>
                
                <!-- Support Links -->
                <div class="footer-section">
                    <h4 class="footer-subtitle">Support</h4>
                    <ul class="footer-links">
                        <li><a href="mailto:support@fileflow.com" class="footer-link" data-testid="footer-contact">Contact</a></li>
                        <li><a href="#" class="footer-link" data-testid="footer-help">Help Center</a></li>
                    </ul>
                </div>
                
                <!-- Legal Links -->
                <div class="footer-section">
                    <h4 class="footer-subtitle">Legal</h4>
                    <ul class="footer-links">
                        <li><a href="/privacy-policy.html" class="footer-link" data-testid="footer-privacy">Privacy Policy</a></li>
                        <li><a href="/terms-of-use.html" class="footer-link" data-testid="footer-terms">Terms of Use</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 FileFlow. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="/js/main.js"></script>
    <script src="/js/advanced-options.js"></script>
    <!-- JPG to PNG Tool - Use server-side converter -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const dropZone = document.querySelector('.file-drop-zone');
            const fileInput = document.getElementById('file-input');
            const convertBtn = document.getElementById('convert-btn');
            
            // Click handler for drop zone
            dropZone.addEventListener('click', function() {
                fileInput.click();
            });
            
            // File selection handler
            fileInput.addEventListener('change', function(e) {
                const files = Array.from(e.target.files);
                if (files.length > 0) {
                    document.getElementById('file-list').classList.remove('hidden');
                    document.getElementById('advanced-options-section').classList.remove('hidden');
                    document.getElementById('action-buttons').classList.remove('hidden');
                    
                    const fileCards = document.getElementById('file-cards');
                    fileCards.innerHTML = files.map(file => `
                        <div class="file-card">
                            <div class="file-info">
                                <div class="file-name">${file.name}</div>
                                <div class="file-size">${Math.round(file.size/1024)}KB</div>
                            </div>
                        </div>
                    `).join('');
                    
                    convertBtn.disabled = false;
                }
            });
            
            // Convert button handler
            convertBtn.addEventListener('click', async function() {
                const files = fileInput.files;
                if (files.length === 0) return;
                
                convertBtn.textContent = 'Converting...';
                convertBtn.disabled = true;
                document.getElementById('progress-section').classList.remove('hidden');
                
                try {
                    for (let i = 0; i < files.length; i++) {
                        const file = files[i];
                        const progress = Math.round(((i + 1) / files.length) * 100);
                        document.getElementById('progress-text').textContent = progress + '%';
                        document.getElementById('progress-bar').style.width = progress + '%';
                        
                        // Upload file
                        const formData = new FormData();
                        formData.append('file', file);
                        
                        const uploadResponse = await fetch('/api/upload', {
                            method: 'POST',
                            body: formData
                        });
                        
                        const uploadResult = await uploadResponse.json();
                        if (!uploadResult.success) throw new Error('Upload failed');
                        
                        // Convert file
                        const convertResponse = await fetch('/api/convert', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({
                                file_id: uploadResult.file_id,
                                output_format: 'png',
                                temp_path: uploadResult.temp_path
                            })
                        });
                        
                        const convertResult = await convertResponse.json();
                        if (convertResult.success) {
                            // Auto-download
                            const link = document.createElement('a');
                            link.href = convertResult.download_url;
                            link.download = convertResult.output_file;
                            document.body.appendChild(link);
                            link.click();
                            document.body.removeChild(link);
                        } else {
                            throw new Error(convertResult.error || 'Conversion failed');
                        }
                    }
                    
                    document.getElementById('download-section').classList.remove('hidden');
                    
                } catch (error) {
                    console.error('Conversion error:', error);
                    alert('Conversion failed: ' + error.message);
                } finally {
                    convertBtn.textContent = 'Convert Files';
                    convertBtn.disabled = false;
                }
            });
        });
    </script>
</body>
</html>
