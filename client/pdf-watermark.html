<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Watermark - FileFlow</title>
    <meta name="description" content="Add text or image watermarks to PDF documents with FileFlow's PDF Watermark tool. Custom opacity, position control, and batch processing.">
    <link rel="stylesheet" href="styles.css">
    
    <!-- Navigation Script -->
    <script src="/js/navigation.js" defer></script>
</head>
<body>
    <!-- Sticky Navigation Bar -->
    <nav class="sticky-nav">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="/" data-testid="nav-brand">FileFlow</a>
            </div>
            
            <div class="nav-menu">
                <!-- Image Tools -->
                <div class="nav-dropdown">
                    <button class="nav-dropdown-trigger" data-testid="nav-image-trigger">
                        Image Tools
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                        </svg>
                    </button>
                    <div class="nav-dropdown-content">
                        <a href="/convert-to-jpeg.html" class="nav-dropdown-item" data-testid="nav-convert-jpeg">Convert to JPEG</a>
                        <a href="/heic-to-jpg.html" class="nav-dropdown-item" data-testid="nav-heic-jpg">HEIC to JPG</a>
                        <a href="/jpg-to-png.html" class="nav-dropdown-item" data-testid="nav-jpg-png">JPG to PNG</a>
                    </div>
                </div>

                <!-- PDF Tools -->
                <div class="nav-dropdown">
                    <button class="nav-dropdown-trigger" data-testid="nav-pdf-trigger">
                        PDF Tools
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                        </svg>
                    </button>
                    <div class="nav-dropdown-content">
                        <a href="/pdf-merge.html" class="nav-dropdown-item" data-testid="nav-pdf-merge">PDF Merge</a>
                        <a href="/pdf-split.html" class="nav-dropdown-item" data-testid="nav-pdf-split">PDF Split</a>
                        <a href="/pdf-compress.html" class="nav-dropdown-item" data-testid="nav-pdf-compress">PDF Compress</a>
                        <a href="/pdf-rotate.html" class="nav-dropdown-item" data-testid="nav-pdf-rotate">PDF Rotate</a>
                        <a href="/pdf-watermark.html" class="nav-dropdown-item" data-testid="nav-pdf-watermark">PDF Watermark</a>
                        <a href="/pdf-to-word.html" class="nav-dropdown-item" data-testid="nav-pdf-to-word">PDF to Word</a>
                    </div>
                </div>

                <!-- Audio/Video Tools -->
                <div class="nav-dropdown">
                    <button class="nav-dropdown-trigger" data-testid="nav-media-trigger">
                        Audio/Video Tools
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                        </svg>
                    </button>
                    <div class="nav-dropdown-content">
                        <a href="/mp4-to-mp3.html" class="nav-dropdown-item" data-testid="nav-mp4-mp3">MP4 to MP3</a>
                        <a href="/audio-converter.html" class="nav-dropdown-item" data-testid="nav-audio-convert">Audio Converter</a>
                        <a href="/video-compress.html" class="nav-dropdown-item" data-testid="nav-video-compress">Video Compress</a>
                        <a href="/gif-maker.html" class="nav-dropdown-item" data-testid="nav-gif-maker">GIF Maker</a>
                        <a href="/video-trim.html" class="nav-dropdown-item" data-testid="nav-video-trim">Video Trim</a>
                        <a href="/video-merger.html" class="nav-dropdown-item" data-testid="nav-video-merge">Video Merger</a>
                    </div>
                </div>
            </div>
            
            <button class="mobile-nav-toggle" data-testid="mobile-nav-toggle">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                </svg>
            </button>
        </div>
    </nav>

    <main class="main">
        <div class="hero-section">
            <div class="hero-content">
                <div class="hero-badge">
                    <div class="tool-icon bg-teal">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M7 20l4-16m2 16l4-16M6 9h14M4 15h14"/>
                        </svg>
                    </div>
                    <span>PDF Tools</span>
                </div>
                <h1 class="hero-title">PDF Watermark</h1>
                <p class="hero-description">Add professional text or image watermarks to protect and brand your PDFs</p>
                <div class="hero-subtitle">
                    <p>Secure your documents with custom watermarks. Add text stamps like "CONFIDENTIAL" or "DRAFT", or overlay your company logo. Control opacity, position, rotation, and apply to specific pages. Perfect for protecting intellectual property or branding documents.</p>
                </div>
                <div class="hero-features">
                    <span class="feature-tag">✓ Text & image watermarks</span>
                    <span class="feature-tag">✓ Custom positioning</span>
                    <span class="feature-tag">✓ Opacity & rotation control</span>
                    <span class="feature-tag">✓ Selective page application</span>
                </div>
            </div>
        </div>

        <div class="converter-container">
            <div class="upload-area" id="uploadArea" onclick="document.getElementById('fileInput').click()" data-testid="upload-area-pdf-watermark">
                <div class="upload-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path>
                        <polyline points="14,2 14,8 20,8"></polyline>
                    </svg>
                </div>
                <h3>Drop your PDF file here</h3>
                <p>or click anywhere to browse files</p>
                <p class="supported-formats">PDF files only</p>
                <input type="file" id="fileInput" accept=".pdf" hidden>
            </div>

            <div class="watermark-setup" id="watermarkSetup" style="display: none;">
                <div class="watermark-type-selection">
                    <h3>Watermark Type</h3>
                    <div class="type-buttons">
                        <button class="type-btn active" id="textTypeBtn" data-type="text">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="4,7 4,4 20,4 20,7"></polyline>
                                <line x1="9" y1="20" x2="15" y2="20"></line>
                                <line x1="12" y1="4" x2="12" y2="20"></line>
                            </svg>
                            Text Watermark
                        </button>
                        <button class="type-btn" id="imageTypeBtn" data-type="image">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                <circle cx="8.5" cy="8.5" r="1.5"/>
                                <polyline points="21,15 16,10 5,21"/>
                            </svg>
                            Image Watermark
                        </button>
                    </div>
                </div>

                <div class="watermark-config" id="textConfig">
                    <div class="config-group">
                        <label for="watermarkText">Watermark Text</label>
                        <input type="text" id="watermarkText" placeholder="Enter watermark text" value="CONFIDENTIAL">
                    </div>
                    <div class="config-group">
                        <label for="fontSize">Font Size</label>
                        <input type="range" id="fontSize" min="12" max="72" value="36">
                        <span id="fontSizeValue">36px</span>
                    </div>
                    <div class="config-group">
                        <label for="textColor">Text Color</label>
                        <input type="color" id="textColor" value="#888888">
                    </div>
                </div>

                <div class="watermark-config" id="imageConfig" style="display: none;">
                    <div class="config-group">
                        <label for="watermarkImage">Select Image</label>
                        <input type="file" id="watermarkImage" accept="image/*">
                        <div class="image-preview" id="imagePreview"></div>
                    </div>
                </div>

                <div class="position-controls">
                    <h4>Position & Appearance</h4>
                    <div class="position-grid">
                        <button class="position-btn" data-position="top-left">↖</button>
                        <button class="position-btn" data-position="top-center">↑</button>
                        <button class="position-btn" data-position="top-right">↗</button>
                        <button class="position-btn" data-position="middle-left">←</button>
                        <button class="position-btn active" data-position="center">●</button>
                        <button class="position-btn" data-position="middle-right">→</button>
                        <button class="position-btn" data-position="bottom-left">↙</button>
                        <button class="position-btn" data-position="bottom-center">↓</button>
                        <button class="position-btn" data-position="bottom-right">↘</button>
                    </div>
                    <div class="appearance-controls">
                        <div class="control-group">
                            <label for="opacity">Opacity</label>
                            <input type="range" id="opacity" min="10" max="100" value="30">
                            <span id="opacityValue">30%</span>
                        </div>
                        <div class="control-group">
                            <label for="rotation">Rotation</label>
                            <input type="range" id="rotation" min="0" max="360" value="45">
                            <span id="rotationValue">45°</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="advanced-options" id="advancedOptions">
                <div class="options-header" id="optionsToggle">
                    <div class="options-title">
                        <svg class="options-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z"/>
                            <path d="M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"/>
                            <path d="M12 2v2"/>
                            <path d="M12 20v2"/>
                            <path d="m4.93 4.93 1.41 1.41"/>
                            <path d="m17.66 17.66 1.41 1.41"/>
                            <path d="M2 12h2"/>
                            <path d="M20 12h2"/>
                            <path d="m6.34 17.66-1.41 1.41"/>
                            <path d="m19.07 4.93-1.41 1.41"/>
                        </svg>
                        <span>Advanced Options</span>
                    </div>
                    <svg class="chevron" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="m6 9 6 6 6-6"/>
                    </svg>
                </div>
                <div class="options-content" id="optionsContent">
                    <div class="option-group">
                        <label for="pageRange">Apply to Pages</label>
                        <select id="pageRange">
                            <option value="all" selected>All Pages</option>
                            <option value="first">First Page Only</option>
                            <option value="last">Last Page Only</option>
                            <option value="custom">Custom Range</option>
                        </select>
                    </div>
                    <div class="option-group" id="customRangeGroup" style="display: none;">
                        <label for="customPages">Page Range (e.g., 1-5, 8, 10-12)</label>
                        <input type="text" id="customPages" placeholder="1-5, 8, 10-12">
                    </div>
                    <div class="option-group">
                        <input type="checkbox" id="behindText">
                        <label for="behindText">Place watermark behind text</label>
                    </div>
                    <div class="option-group">
                        <input type="checkbox" id="repeatPattern">
                        <label for="repeatPattern">Repeat watermark pattern</label>
                    </div>
                </div>
            </div>

            <button class="convert-btn" id="convertBtn" disabled>
                <span class="btn-text">Add Watermark</span>
                <div class="btn-loader" style="display: none;"></div>
            </button>

            <div class="progress-container" id="progressContainer" style="display: none;">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text" id="progressText">0%</div>
            </div>

            <div class="results" id="results" style="display: none;">
                <h3>Watermark Added Successfully</h3>
                <div class="result-actions">
                    <button class="download-btn" id="downloadBtn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="7,10 12,15 17,10"></polyline>
                            <line x1="12" y1="15" x2="12" y2="3"></line>
                        </svg>
                        Download Watermarked PDF
                    </button>
                </div>
            </div>
        </div>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
    <script src="js/advanced-options.js"></script>
    <script src="js/converters/pdf-watermark.js"></script>
</body>
</html>